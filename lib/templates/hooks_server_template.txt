import chicConfig from '../chic.json';
import { RoutesTable } from 'chic.js/ui';

/** @type {import('@sveltejs/kit').Handle} */
export async function handle({ event, resolve }) {
    if (event.url.pathname.startsWith('/routes')) {
        const routes = chicConfig.routes;
        return new Response(RoutesTable(routes), {
            headers: {
                'content-type': 'text/html',
            },
        });
    }

    const response = await resolve(event);
    return response;
}